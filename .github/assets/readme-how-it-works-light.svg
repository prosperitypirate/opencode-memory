<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 130" width="100%" role="img" aria-label="5-step pipeline: You code, Extract, Store, Inject, Remember">
  <title>codexfi Mechanics</title>
  <defs>
    <filter id="glow-hiw-light">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
    </filter>
    <marker id="arrow-hiw-light" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#6b7280" opacity="0.5" />
    </marker>
    <style>
      text { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
      .mono { font-family: ui-monospace, 'Cascadia Code', 'Fira Code', monospace; }
      .node { opacity: 0; animation: fade-in 0.4s ease-out forwards; }
      .arr { stroke-dasharray: 40; stroke-dashoffset: 40; animation: draw-arr 0.3s ease-out forwards; }
      
      @keyframes fade-in { to { opacity: 1; } }
      @keyframes draw-arr { to { stroke-dashoffset: 0; } }
      @keyframes glowPulse-hiw { from { filter: url(#glow-hiw-light); opacity: 0.8; } to { filter: url(#glow-hiw-light); opacity: 1; } }
      
      @media (prefers-reduced-motion: reduce) {
        .node { opacity: 1; animation: none !important; }
        .arr { stroke-dashoffset: 0; animation: none !important; }
        .glow { animation: none !important; }
      }
    </style>
  </defs>
  <rect width="100%" height="100%" fill="#ffffff" />

  <text x="450" y="118" fill="#6b7280" font-size="10" text-anchor="middle">All data stays on your machine at ~/.codexfi/</text>

  <!-- Arrows -->
  <path d="M 145 65 L 182 65" fill="none" stroke="#6b7280" opacity="0.5" stroke-width="1.5" marker-end="url(#arrow-hiw-light)" class="arr" style="animation-delay: 0.1s;" />
  <path d="M 317 65 L 380 65" fill="none" stroke="#6b7280" opacity="0.5" stroke-width="1.5" marker-end="url(#arrow-hiw-light)" class="arr" style="animation-delay: 0.25s;" />
  <path d="M 515 65 L 578 65" fill="none" stroke="#6b7280" opacity="0.5" stroke-width="1.5" marker-end="url(#arrow-hiw-light)" class="arr" style="animation-delay: 0.4s;" />
  <path d="M 713 65 L 745 65" fill="none" stroke="#6b7280" opacity="0.5" stroke-width="1.5" marker-end="url(#arrow-hiw-light)" class="arr" style="animation-delay: 0.55s;" />

  <!-- Node 1 -->
  <g class="node" style="animation-delay: 0s;">
    <rect x="15" y="45" width="130" height="40" rx="20" fill="#f9fafb" stroke="#e5e7eb" stroke-width="1.5" />
    <circle cx="28" cy="42" r="10" fill="#7c3aed" opacity="0.15" />
    <circle cx="28" cy="42" r="10" fill="none" stroke="#7c3aed" stroke-width="1" />
    <text x="28" y="46" fill="#7c3aed" font-size="10" font-weight="700" text-anchor="middle">1</text>
    <text x="80" y="61" fill="#111111" font-size="13" font-weight="600" text-anchor="middle">You code</text>
    <text x="80" y="75" fill="#6b7280" font-size="10" text-anchor="middle">nothing to learn</text>
  </g>

  <!-- Node 2 -->
  <g class="node" style="animation-delay: 0.15s;">
    <rect x="187" y="45" width="130" height="40" rx="20" fill="#f9fafb" stroke="#9333ea" stroke-width="1.5" />
    <circle cx="200" cy="42" r="10" fill="#7c3aed" opacity="0.15" />
    <circle cx="200" cy="42" r="10" fill="none" stroke="#7c3aed" stroke-width="1" />
    <text x="200" y="46" fill="#7c3aed" font-size="10" font-weight="700" text-anchor="middle">2</text>
    <text x="252" y="61" fill="#111111" font-size="13" font-weight="600" text-anchor="middle">Extract</text>
    <text x="252" y="75" fill="#6b7280" font-size="10" text-anchor="middle">after every turn</text>
  </g>

  <!-- Node 3 -->
  <g class="node" style="animation-delay: 0.3s;">
    <rect x="385" y="45" width="130" height="40" rx="20" fill="#f9fafb" stroke="#7c3aed" stroke-width="1.5" />
    <circle cx="398" cy="42" r="10" fill="#7c3aed" opacity="0.15" />
    <circle cx="398" cy="42" r="10" fill="none" stroke="#7c3aed" stroke-width="1" />
    <text x="398" y="46" fill="#7c3aed" font-size="10" font-weight="700" text-anchor="middle">3</text>
    <text x="450" y="61" fill="#111111" font-size="13" font-weight="600" text-anchor="middle">Store</text>
    <text x="450" y="75" fill="#6b7280" font-size="10" text-anchor="middle">LanceDB Â· local</text>
  </g>

  <!-- Node 4 -->
  <g class="node" style="animation-delay: 0.45s;">
    <rect x="583" y="45" width="130" height="40" rx="20" fill="#f9fafb" stroke="#7c3aed" stroke-width="1.5" />
    <circle cx="596" cy="42" r="10" fill="#7c3aed" opacity="0.15" />
    <circle cx="596" cy="42" r="10" fill="none" stroke="#7c3aed" stroke-width="1" />
    <text x="596" y="46" fill="#7c3aed" font-size="10" font-weight="700" text-anchor="middle">4</text>
    <text x="648" y="61" fill="#111111" font-size="13" font-weight="600" text-anchor="middle">Inject</text>
    <text x="648" y="75" fill="#6b7280" font-size="10" text-anchor="middle">[MEMORY] block</text>
  </g>

  <!-- Node 5 -->
  <g class="node glow" style="animation-delay: 0.6s; animation: fade-in 0.4s ease-out forwards, glowPulse-hiw 3s ease-in-out infinite alternate;">
    <rect x="750" y="43" width="140" height="44" rx="22" fill="#f9fafb" stroke="#16a34a" stroke-width="1.5" filter="url(#glow-hiw-light)" />
    <circle cx="768" cy="42" r="10" fill="#7c3aed" opacity="0.15" />
    <circle cx="768" cy="42" r="10" fill="none" stroke="#7c3aed" stroke-width="1" />
    <text x="768" y="46" fill="#7c3aed" font-size="10" font-weight="700" text-anchor="middle">5</text>
    <text x="820" y="61" fill="#16a34a" font-size="14" font-weight="700" text-anchor="middle">Remember</text>
    <text x="820" y="75" fill="#6b7280" font-size="10" text-anchor="middle">every session</text>
  </g>
</svg>